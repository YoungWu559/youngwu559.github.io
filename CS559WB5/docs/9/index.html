<!DOCTYPE html>
<html>
    
<!-- CS559 Workbook Pages - page content &copy; 2021, Michael Gleicher -->
<!-- This page is part of a Workbook developed for the 
    CS559 Computer Graphics Class at the University of Wisconsin
    https://graphics.cs.wisc.edu/Courses/559-sp2025/ -->
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../../css/workbook.css">
        <script src="../../js/resizeIFrames.js"></script>
    </head>
    <body>
        <div class="container container--outer"><div class="maincolumn">
<main class="main" role="main">
	<article class="post">
		<header class="post__header"><h1 class="post__title">Page 9: Béziers in APIs</h1>
		</header>
		<div class="content post__content clearfix"><div class="dimbox">
                    <h3>Spring 2025 Sample Solution</h3>
                </div><p>Both Canvas and SVG support Bézier curves. Both APIs provide commands for both cubic and quadratic Béziers. Technically, they support linear Béziers, but we usually call these lines.</p>
<h2 id="bézier-curves-in-canvas">Bézier Curves in Canvas</h2>
<p>The HTML Canvas API provides both quadratic and cubic Bézier curves. It allows you to use these curves as pieces of longer paths.</p>
<p>One thing that is slightly surprising about Bézier segments in Canvas is that they take one fewer control point as an argument than the curve needs. The first control point is always the most recent pen position. So, if you want to give the four points of a Bézier segment, you need to do a <code>moveTo</code> first to get that first point:</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75af00">context</span><span style="color:#111">.</span><span style="color:#75af00">moveTo</span><span style="color:#111">(</span><span style="color:#75af00">ax</span><span style="color:#111">,</span> <span style="color:#75af00">ay</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">context</span><span style="color:#111">.</span><span style="color:#75af00">bezierCurveTo</span><span style="color:#111">(</span><span style="color:#75af00">bx</span><span style="color:#111">,</span> <span style="color:#75af00">by</span><span style="color:#111">,</span> <span style="color:#75af00">cx</span><span style="color:#111">,</span> <span style="color:#75af00">cy</span><span style="color:#111">,</span> <span style="color:#75af00">dx</span><span style="color:#111">,</span> <span style="color:#75af00">dy</span><span style="color:#111">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>This is convenient because we often want to connect segments together. The end of the last segment becomes the beginning of the next. <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(0)</annotation></semantics></math></span> continuity is easy. If you want <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(1)</annotation></semantics></math></span> or <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(1)</annotation></semantics></math></span> continuity, you need to choose the position of the point (bx,by) appropriately.</p>
<h2 id="bézier-curves-in-svg">Bézier Curves in SVG</h2>
<p>SVG supports Bézier curves as part of its &ldquo;path language&rdquo;. When you make a path, you can include commands to add quadratic and cubic Bézier segments.</p>
<p>Here is an example of a path created in SVG.
The file is 
        <a href="../../docs/9/05-09-quadratic.svg">05-09-quadratic.svg</a>

</p>
<p><div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-svg" data-lang="svg"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#f92672">&lt;svg</span> <span style="color:#75af00">xmlns=</span><span style="color:#d88200">&#34;http://www.w3.org/2000/svg&#34;</span> <span style="color:#75af00">width=</span><span style="color:#d88200">&#34;200px&#34;</span> <span style="color:#75af00">height=</span><span style="color:#d88200">&#34;200px&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>    <span style="color:#f92672">&lt;path</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>        <span style="color:#75af00">stroke=</span><span style="color:#d88200">&#34;black&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>        <span style="color:#75af00">fill =</span><span style="color:#d88200">&#34;#CCC&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>        <span style="color:#75af00">stroke-width=</span><span style="color:#d88200">&#34;5&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>        <span style="color:#75af00">d=</span><span style="color:#d88200">&#34;M150,100 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#d88200">           Q 150,150  100,150
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#d88200">           Q  50,150   50,100
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#d88200">           Q  50, 50  100, 50
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#d88200">           Q 100,100  150,100
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#d88200">           z&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>    <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#f92672">&lt;/svg&gt;</span>
</span></span></code></pre></div>


<figure class="">
        <a href="../../docs/9/05-09-quadratic.svg">
            <img src="../../docs/9/05-09-quadratic.svg" alt="05-09-quadratic.svg" />
        </a>
    </figure>

</p>
<p>Notice that the shape is a single path, made up of 4 quadratic Bézier segments. The path description is in a string, broken up over lines 6-12. You can see it starts with a move to (M) command (line 6), and then the 4 quadraticBezierCurveTo commands (Q). It also has a &ldquo;close path&rdquo; (Z) command at the end.</p>
<p>Notice that the quadratic Bézier commands take two points as parameters. Like the Canvas commands, the first point is the current pen position. The first curve starts at the move to position. The others connect to the ends of the previous segments, so they have <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(0)</annotation></semantics></math></span> continuity. Because of the positions of the control points, most connections are <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(1)</annotation></semantics></math></span> (except for the ones that obviously aren&rsquo;t).</p>



<p><strong>Practice:</strong> To practice reading SVG and writing Canvas Bezier curves, I would like you to reproduce the picture above (in 
        <a href="../../docs/9/05-09-quadratic.svg">05-09-quadratic.svg</a>

) using the Canvas API in the files
<a href="../../for_students/05-09-01.js" class="box-html" data-tag="05-09-01">05-09-01.js</a>
.</p>
<p>But, to make this more interesting: you are not allowed to use the <code>quadraticBezierTo</code> command in your JavaScript program, you must use the <code>bezierCurveTo</code> function (which is cubic). You will need to convert the quadratic (3 point) curves to cubic (4 point) curves. In general, converting Bézier curves between degrees is tricky, but for the special case of 2 to 3, it is easy. A hint: figure out the tangent vectors for the quadratic, and use them to determine the control points of the cubic. The end points are easy.</p>

<div id="box-05-09-01" style="border: 2px solid black; padding: 0px 5px 0px 5px; margin: 0;border-radius: 5px;">
    <b>Box 05-09-01</b>&nbsp;&nbsp;
        <a href=../../for_students/05-09-01.html class="boxtitlelink">05-09-01.html</a>
        &nbsp;&nbsp;<a href="../../for_students/05-09-01.js" class="boxtitlelink">05-09-01.js</a>
    <iframe
        title="05-09-01"
        src="../../for_students/05-09-01.html"
        class="includebox includebox-standard"
        width="100%"
        height="100%"
        scrolling="no"
        frameborder="0"
        id="box-iframe-05-09-01"
    ></iframe>
</div>
<div class="page-rubric-container">
        <i>There are no points associated with Box 05-09-01.</i>
    </div>
<h2 id="your-turn-a-picture">Your turn: A Picture</h2>
<p>In this box, you can practice using the canvas Bézier drawing commands. The canvas context has functions that put Bézier segments onto the end of the current path. Just as <code>context.lineTo(x,y)</code> extends the current path with a line segment from the current end of the path to <code>x,y</code>, the <code>context.bezierCurveTo</code> function extends the path with a cubic Bézier segment. The function takes 3 points (the segment uses 4 points as it includes the end of the path before the function is called). Paths with curves can be stroked and filled like any other paths.</p>
<p>


Make a picture in the box below using Canvas drawing commands. Your picture must use curves (cubic Bézier curves - with the Canvas <code>bezierCurveTo</code> function). You should edit 
<a href="../../for_students/05-09-02.js" class="box-html" data-tag="05-09-02">05-09-02.js</a>
. Your picture must have shapes that are obviously curves (not straight lines) - it should be clear that they are not circles or arcs.</p>
<p>In at least one place in your picture, you must connect two Bézier segments with <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(1)</annotation></semantics></math></span> or <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(1)</annotation></semantics></math></span> continuity. Describe one or two places where you connected Bézier segments with continuity in <strong>somewhere</strong> (tell us where to look, we should see a place with continuity. For example &ldquo;at the top of the mountain, two lines come together with <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(0)</annotation></semantics></math></span> continuity&rdquo; - except that your example must be <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(1)</annotation></semantics></math></span> or <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(1)</annotation></semantics></math></span>).</p>
<p>This year, we are not giving extra advanced items for artistic merit. But, it&rsquo;s more fun to make cool pictures (both for you and for us).</p>

<div id="box-05-09-02" style="border: 2px solid black; padding: 0px 5px 0px 5px; margin: 0;border-radius: 5px;">
    <b>Box 05-09-02</b>&nbsp;
        (2 basic + 0 advanced)&nbsp&nbsp;
        <a href=../../for_students/05-09-02.html class="boxtitlelink">05-09-02.html</a>
        &nbsp;&nbsp;<a href="../../for_students/05-09-02.js" class="boxtitlelink">05-09-02.js</a>
    <iframe
        title="05-09-02"
        src="../../for_students/05-09-02.html"
        class="includebox includebox-standard"
        width="100%"
        height="100%"
        scrolling="no"
        frameborder="0"
        id="box-iframe-05-09-02"
    ></iframe>
</div>
<div class="page-rubric-container">
        <i>There are basic or advanced gallery items to be completed for Box 05-09-02. To get full points, please add explanations of what you did in the .html file (or as notes in the Workbook Form) and submit at least one screenshot and one video recording of the box to the Workbook Canvas Assignment.</i>
    </div>
<h2 id="summary-bézier-curves">Summary: Bézier Curves</h2>
<p>Bézier curves are discussed in FCG4 Chapter 15 section 15.6.1. Here, we focused on the specific kinds of Bézier curves we see in Canvas. We see the connection with Hermite (and therefore Cardinal) cubics and how they are drawn in Canvas. The list of properties is in the book, but they are important.</p>
<p>On the <a href="../../docs/10/" class="Next__Page">Next: Arc-Length Parameterizations </a>, we will consider a general problem with parametric curves - not just Beziers.</p>
<a href="../../docs/10/" class="Next__Page">Next: Arc-Length Parameterizations </a>

            
			
			
		</div>
	</article>
</main>

                </div>
                    <div class="sidebar">
<h2 class="Side_Title">Workbook 5: Curves in 2D</h2>
<p class="Side__Note">Pages:</p>
<ul class="Side__List">
    <li class="Side__Item Side__Unselected"><a href="../../">Index (CS559 Workbook 5: Curves in 2D)</a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/1/">1: Curves </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/2/">2: Piecewise Parameteric Curves and Continuity </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/3/">3: Cubics </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/4/">4: Interpolation and Hermite Cubics </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/5/">5: Cardinal Cubics and Interpolation </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/6/">6: Bézier Curves </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/7/">7: DeCasteljau Constructions </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/8/">8: Bézier Cubics </a></li>
        <li class="Side__Item Side__Selected"> 9: Béziers in APIs </li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/10/">10: Arc-Length Parameterizations </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/11/">11: Drawing Curves </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/12/">12: Curve review </a></li>
        <li class="Side__Item Side__Unselected"> <a href="../../docs/13/">13: The 559 2D UI Code </a></li>
</ul>
</div>
</div>
    </body>
</html>
